<!DOCTYPE html>
<html lang=" en ">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    (Deprecated)  Class Discovery
    
  </title>

  <meta name="description" content="Distributed Linear Algebra">

  <link rel="stylesheet" href="/assets/css/main.css">

  <!-- Font Awesome -->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,500" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,700,700i" rel="stylesheet">

  <link rel="canonical" href="http://mahout.apache.org//docs/latest/algorithms/map-reduce/classification/class-discovery.html">
  <link rel="alternate" type="application/rss+xml" title="Apache Mahout" href="/feed.xml">


</head>


<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light navbar-mahout">

    <div class="container">

        <a class="navbar-brand" href="/">
            <img src="/assets/mahout-logo-blue.svg" alt="">
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <div class="navbar-nav ml-auto">

                <!-- Quick Start -->
                <li class="nav-item">
                    <a class="nav-link" href="/docs/latest" >Overview</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Key Concepts</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item"  href="/docs/latest/index.html">Mahout Overview</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Scala DSL</h6>
                        <a class="dropdown-item"  href="/docs/latest/mahout-samsara/in-core-reference.html">In-core Reference</a>
                        <a class="dropdown-item"  href="/docs/latest/mahout-samsara/out-of-core-reference.html">Out-of-core Reference</a>
                        <a class="dropdown-item"  href="/docs/latest/mahout-samsara/faq.html">Samsara FAQ</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Distributed Engine Bindings</h6>
                        <a class="dropdown-item"  href="/docs/latest/distributed/spark-bindings/">Spark Bindings</a>
                        <a class="dropdown-item"  href="/docs/latest/distributed/flink-bindings.html">Flink Bindings</a>
                        <a class="dropdown-item"  href="/docs/latest/distributed/flink-bindings.html">H20 Bindings</a>
                        <!--<div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Native Solvers</h6>
                        <a class="dropdown-item"  href="/docs/latest/native-solvers/viennacl.html">ViennaCL</a></li>
                        <a class="dropdown-item"  href="/docs/latest/native-solvers/viennacl-omp.html">ViennaCL-OMP</a></li>
                        <a class="dropdown-item"  href="/docs/latest/native-solvers/cuda.html">CUDA</a></li>-->
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutorial</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Recommenders</h6>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/cco-lastfm">CCO Example with Last.FM Data</a>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/intro-cooccurrence-spark">Introduction to Cooccurrence in Spark</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Mahout Samsara</h6>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/samsara/play-with-shell.html">Playing with Samsara in Spark Shell</a>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/samsara/playing-with-samsara-flink-batch.html">Playing with Samsara in Flink Batch</a>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/samsara/classify-a-doc-from-the-shell.html">Text Classification (Shell)</a>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/samsara/spark-naive-bayes.html">Spark Naive Bayes</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Misc</h6>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/misc/getting-started-with-zeppelin">Mahout in Apache Zeppelin (Quickstart)</a>
<!--                        <a class="dropdown-item"  href="/docs/latest/tutorials/misc/mahout-in-zeppelin">Mahout in Apache Zeppelin (Roll your own)</a>-->
                        <a class="dropdown-item"  href="/docs/latest/tutorials/misc/contributing-algos">How To Contribute a New Algorithm</a>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/misc/how-to-build-an-app.html">How To Build An App</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Deprecated</h6>
                        <a class="dropdown-item"  href="/docs/latest/tutorials/map-reduce">MapReduce</a>
                    </div>
                </li>


                <!-- Algorithms (Samsara / MR) -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Algorithms</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item"  href="/docs/latest/algorithms/linear-algebra">Distributed Linear Algebra</a>
                        <a class="dropdown-item"  href="/docs/latest/algorithms/preprocessors">Preprocessors</a>
                        <a class="dropdown-item"  href="/docs/latest/algorithms/regression">Regression</a>
                        <a class="dropdown-item"  href="/docs/latest/algorithms/clustering">Clustering</a>
                        <a class="dropdown-item"  href="/docs/latest/algorithms/recommenders">Recommenders</a>
                        <div class="dropdown-divider"></div>
                        <h6 class="dropdown-header">Deprecated</h6>
                        <a class="dropdown-item"  href="/docs/latest/algorithms/map-reduce">MapReduce <i>(deprecated)</i></a>
                    </div>
                        <!--<a class="dropdown-item"  href="/docs/latest/algorithms/recommenders/recommender-overview.html">Reccomender Overview</a></li> Do we still need? seems like short version of next post-->
                        <!--
                        <a class="dropdown-item"  href="/docs/latest/algorithms/recommenders/intro-cooccurrence-spark.html">Intro to Coocurrence With Spark</a></li>
                        <li role="separator" class="divider"></li>
                        <li><span>&nbsp;&nbsp;<a href="/docs/latest/algorithms/map-reduce"><b>MapReduce</b> (deprecated)</a><span></li>


                     -->
                </li>

                <!-- Scala /docs -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">API /docs</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item"  href="/docs/0.13.0/api/docs/">0.13.0</a>
                    </div>
                </li>

                <!-- Apache -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Apache</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item"  href="http://www.apache.org/foundation/how-it-works.html">Apache Software Foundation</a>
                        <a class="dropdown-item"  href="http://www.apache.org/licenses/">Apache License</a>
                        <a class="dropdown-item"  href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
                        <a class="dropdown-item"  href="http://www.apache.org/foundation/thanks.html">Thanks</a>
                    </div>
                </li>

            </ul>

                <!--<form class="navbar-form navbar-left">-->
                    <!--<div class="form-group">-->
                        <!--<input type="text" class="form-control" placeholder="Search">-->
                    <!--</div>-->
                    <!--<button type="submit" class="btn btn-default">Submit</button>-->
                <!--</form>-->
                <!--<ul class="nav navbar-nav navbar-right">-->
                    <!--<a class="dropdown-item"  href="http://github.com/apache/mahout">Github</a></li>-->



                <!--</ul>-->
        </div><!-- /.navbar-collapse -->
    </div>
</nav>


  <div class="container mt-5 pb-4">

  <div class="row">

    <div class="col-lg-8">
      <p><a name="ClassDiscovery-ClassDiscovery"></a></p>
<h1 id="class-discovery">Class Discovery</h1>

<p>See http://www.cs.bham.ac.uk/~wbl/biblio/gecco1999/GP-417.pdf</p>

<p>CDGA uses a Genetic Algorithm to discover a classification rule for a given
dataset. 
A dataset can be seen as a table:</p>

<table>
<tr><th> </th><th>attribute 1</th><th>attribute 2</th><th>...</th><th>attribute N</th></tr>
<tr><td>row 1</td><td>value1</td><td>value2</td><td>...</td><td>valueN</td></tr>
<tr><td>row 2</td><td>value1</td><td>value2</td><td>...</td><td>valueN</td></tr>
<tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>
<tr><td>row M</td><td>value1</td><td>value2</td><td>...</td><td>valueN</td></tr>
</table>

<p>An attribute can be numerical, for example a “temperature” attribute, or
categorical, for example a “color” attribute. For classification purposes,
one of the categorical attributes is designated as a <em>label</em>, which means
that its value defines the <em>class</em> of the rows.
A classification rule can be represented as follows:</p>
<table>
<tr><th> </th><th>attribute 1</th><th>attribute 2</th><th>...</th><th>attribute N</th></tr>
<tr><td>weight</td><td>w1</td><td>w2</td><td>...</td><td>wN</td></tr>
<tr><td>operator</td><td>op1</td><td>op2</td><td>...</td><td>opN</td></tr>
<tr><td>value</td><td>value1</td><td>value2</td><td>...</td><td>valueN</td></tr>
</table>

<p>For a given <em>target</em> class and a weight <em>threshold</em>, the classification
rule can be read :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for each row of the dataset
  if (rule.w1 &lt; threshold || (rule.w1 &gt;= threshold &amp;&amp; row.value1 rule.op1 rule.value1)) &amp;&amp;
     (rule.w2 &lt; threshold || (rule.w2 &gt;= threshold &amp;&amp; row.value2 rule.op2 rule.value2)) &amp;&amp;
     ...
     (rule.wN &lt; threshold || (rule.wN &gt;= threshold &amp;&amp; row.valueN rule.opN rule.valueN)) then
    row is part of the target class
</code></pre></div></div>

<p><em>Important:</em> The label attribute is not evaluated by the rule.</p>

<p>The threshold parameter allows some conditions of the rule to be skipped if
their weight is too small. The operators available depend on the attribute
types:</p>
<ul>
  <li>for a numerical attributes, the available operators are ‘&lt;’ and ‘&gt;=’</li>
  <li>for categorical attributes, the available operators are ‘!=’ and ‘==’</li>
</ul>

<p>The “threshold” and “target” are user defined parameters, and because the
label is always a categorical attribute, the target is the (zero based)
index of the class label value in all the possible values of the label. For
example, if the label attribute can have the following values (blue, brown,
green), then a target of 1 means the “blue” class.</p>

<p>For example, we have the following dataset (the label attribute is “Eyes
Color”):</p>
<table>
<tr><th> </th><th>Age</th><th>Eyes Color</th><th>Hair Color</th></tr>
<tr><td>row 1</td><td>16</td><td>brown</td><td>dark</td></tr>
<tr><td>row 2</td><td>25</td><td>green</td><td>light</td></tr>
<tr><td>row 3</td><td>12</td><td>blue</td><td>light</td></tr>
and a classification rule:
<tr><td>weight</td><td>0</td><td>1</td></tr>
<tr><td>operator</td><td>&lt;</td><td>!=</td></tr>
<tr><td>value</td><td>20</td><td>light</td></tr>
and the following parameters: threshold = 1 and target = 0 (brown).
</table>

<p>This rule can be read as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for each row of the dataset
  if (0 &lt; 1 || (0 &gt;= 1 &amp;&amp; row.value1 &lt; 20)) &amp;&amp;
     (1 &lt; 1 || (1 &gt;= 1 &amp;&amp; row.value2 != light)) then
    row is part of the "brown Eye Color" class
</code></pre></div></div>

<p>Please note how the rule skipped the label attribute (Eye Color), and how
the first condition is ignored because its weight is &lt; threshold.</p>

<p><a name="ClassDiscovery-Runningtheexample:"></a></p>
<h1 id="running-the-example">Running the example:</h1>
<p>NOTE: Substitute in the appropriate version for the Mahout JOB jar</p>

<ol>
  <li>cd <MAHOUT_HOME>/examples</MAHOUT_HOME></li>
  <li>ant job</li>
  <li>{code}<HADOOP_HOME>/bin/hadoop dfs -put</HADOOP_HOME></li>
</ol>
<MAHOUT_HOME>/examples/src/test/resources/wdbc wdbc{code}
1. {code}<HADOOP_HOME>/bin/hadoop dfs -put
<MAHOUT_HOME>/examples/src/test/resources/wdbc.infos wdbc.infos{code}
1. {code}<HADOOP_HOME>/bin/hadoop jar
<MAHOUT_HOME>/examples/build/apache-mahout-examples-0.1-dev.job
org.apache.mahout.ga.watchmaker.cd.CDGA
<MAHOUT_HOME>/examples/src/test/resources/wdbc 1 0.9 1 0.033 0.1 0 100 10

    CDGA needs 9 parameters:
    * param 1 : path of the directory that contains the dataset and its infos
file
    * param 2 : target class
    * param 3 : threshold
    * param 4 : number of crossover points for the multi-point crossover
    * param 5 : mutation rate
    * param 6 : mutation range
    * param 7 : mutation precision
    * param 8 : population size
    * param 9 : number of generations before the program stops
    
    For more information about 4th parameter, please see [Multi-point Crossover|http://www.geatbx.com/docu/algindex-03.html#P616_36571]
.
    For a detailed explanation about the 5th, 6th and 7th parameters, please
see [Real Valued Mutation|http://www.geatbx.com/docu/algindex-04.html#P659_42386]
.
    
    *TODO*: Fill in where to find the output and what it means.
    
    h1. The info file:
    To run properly, CDGA needs some informations about the dataset. Each
dataset should be accompanied by an .infos file that contains the needed
informations. for each attribute a corresponding line in the info file
describes it, it can be one of the following:
    * IGNORED
      if the attribute is ignored
    * LABEL, val1, val2,...
      if the attribute is the label (class), and its possible values
    * CATEGORICAL, val1, val2,...
      if the attribute is categorial (nominal), and its possible values
    * NUMERICAL, min, max
      if the attribute is numerical, and its min and max values
    
    This file can be generated automaticaly using a special tool available with
CDGA.
    


*  the tool searches for an existing infos file (*must be filled by the
user*), in the same directory of the dataset with the same name and with
the ".infos" extension, that contain the type of the attributes:
  ** 'N' numerical attribute
  ** 'C' categorical attribute
  ** 'L' label (this also a categorical attribute)
  ** 'I' to ignore the attribute
  each attribute is in a separate 
* A Hadoop job is used to parse the dataset and collect the informations.
This means that *the dataset can be distributed over HDFS*.
* the results are written back in the same .info file, with the correct
format needed by CDGA.
</MAHOUT_HOME></MAHOUT_HOME></HADOOP_HOME></MAHOUT_HOME></HADOOP_HOME></MAHOUT_HOME>

    </div>


  </div>

</div>


  <footer class="footer bg-light">
    <div class="container text-center small">
        Copyright &copy; 2014-2024 <a href="http://www.apache.org/">The Apache Software Foundation</a>, Licensed under the Apache License, Version 2.0.
    </div>
</footer>


  <script src="/assets/vendor/jquery/jquery-slim.min.js"></script>
  <script src="/assets/vendor/popper/popper.min.js"></script>
  <script src="/assets/vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="/assets/header.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

</body>

</html>
