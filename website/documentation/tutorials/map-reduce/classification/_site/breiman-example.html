<div style="background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba; padding: 15px; border-radius: 5px; margin-bottom: 20px;"> <strong>⚠️ Deprecation Notice:</strong> This component (<em>Map Reduce</em>) is no longer actively maintained. It remains accessible for historical reference but is not recommended for new development.  Please check out <a href="https://mahout.apache.org/quantum-computing-primer/" style="color: #0c5460; text-decoration: underline;">Qumat - Mahout's Quantum Computing Primer</a> for the latest innovations.</div>

<p>#Breiman Example</p>

<h4 id="introduction">Introduction</h4>

<p>This page describes how to run the Breiman example, which implements the test procedure described in <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.23.3999&amp;rep=rep1&amp;type=pdf">Leo Breiman’s paper</a>. The basic algorithm is as follows :</p>

<ul>
  <li>repeat <em>I</em> iterations</li>
  <li>in each iteration do</li>
  <li>keep 10% of the dataset apart as a testing set</li>
  <li>build two forests using the training set, one with <em>m = int(log2(M) + 1)</em> (called Random-Input) and one with <em>m = 1</em> (called Single-Input)</li>
  <li>choose the forest that gave the lowest oob error estimation to compute
the test set error</li>
  <li>compute the test set error using the Single Input Forest (test error),
this demonstrates that even with <em>m = 1</em>, Decision Forests give comparable
results to greater values of <em>m</em></li>
  <li>compute the mean testset error using every tree of the chosen forest
(tree error). This should indicate how well a single Decision Tree performs</li>
  <li>compute the mean test error for all iterations</li>
  <li>compute the mean tree error for all iterations</li>
</ul>

<h4 id="running-the-example">Running the Example</h4>

<p>The current implementation is compatible with the <a href="http://archive.ics.uci.edu/ml/">UCI repository</a> file format. We’ll show how to run this example on two datasets:</p>

<p>First, we deal with <a href="http://archive.ics.uci.edu/ml/datasets/Glass+Identification">Glass Identification</a>: download the <a href="http://archive.ics.uci.edu/ml/machine-learning-databases/glass/glass.data">dataset</a> file called <strong>glass.data</strong> and store it onto your local machine. Next, we must generate the descriptor file <strong>glass.info</strong> for this dataset with the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/mahout org.apache.mahout.classifier.df.tools.Describe -p /path/to/glass.data -f /path/to/glass.info -d I 9 N L
</code></pre></div></div>

<p>Substitute <em>/path/to/</em> with the folder where you downloaded the dataset, the argument “I 9 N L” indicates the nature of the variables. Here it means 1
ignored (I) attribute, followed by 9 numerical(N) attributes, followed by
the label (L).</p>

<p>Finally, we build and evaluate our random forest classifier as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/mahout org.apache.mahout.classifier.df.BreimanExample -d /path/to/glass.data -ds /path/to/glass.info -i 10 -t 100 which builds 100 trees (-t argument) and repeats the test 10 iterations (-i argument) 
</code></pre></div></div>

<p>The example outputs the following results:</p>

<ul>
  <li>Selection error: mean test error for the selected forest on all iterations</li>
  <li>Single Input error: mean test error for the single input forest on all
iterations</li>
  <li>One Tree error: mean single tree error on all iterations</li>
  <li>Mean Random Input Time: mean build time for random input forests on all
iterations</li>
  <li>Mean Single Input Time: mean build time for single input forests on all
iterations</li>
</ul>

<p>We can repeat this for a <a href="http://archive.ics.uci.edu/ml/datasets/Connectionist+Bench+%28Sonar,+Mines+vs.+Rocks%29">Sonar</a> usecase: download the <a href="http://archive.ics.uci.edu/ml/machine-learning-databases/undocumented/connectionist-bench/sonar/sonar.all-data">dataset</a> file called <strong>sonar.all-data</strong> and store it onto your local machine. Generate the descriptor file <strong>sonar.info</strong> for this dataset with the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/mahout org.apache.mahout.classifier.df.tools.Describe -p /path/to/sonar.all-data -f /path/to/sonar.info -d 60 N L
</code></pre></div></div>

<p>The argument “60 N L” means 60 numerical(N) attributes, followed by the label (L). Analogous to the previous case, we run the evaluation as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/mahout org.apache.mahout.classifier.df.BreimanExample -d /path/to/sonar.all-data -ds /path/to/sonar.info -i 10 -t 100
</code></pre></div></div>

